# Copyright (C) 2024-2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0
---
- name: Validate deployment environment and prerequisites
  hosts: local
  vars:
    deployment_dir: "{{ playbook_dir }}/.."
    log_dir: "{{ deployment_dir }}/ansible-logs"
    kubeconfig: "{{ inventory_dir + '/artifacts/admin.conf' }}"
    secure_logs: true
  environment:
    K8S_AUTH_KUBECONFIG: "{{ kubeconfig }}"
  tasks:
    - name: Validate configuration
      ansible.builtin.include_role:
        name: validate_config
      tags:
        - config

    - name: Check hardware requirements
      ansible.builtin.include_role:
        name: validate_hardware
      tags:
        - hardware
