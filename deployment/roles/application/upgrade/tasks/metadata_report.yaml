# Copyright (C) 2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0
---
# Metadata Report Generation
# This task generates a detailed report of all metadata validations

- name: Ensure reports directory exists
  ansible.builtin.file:
    path: "{{ upgrade_reports_dir }}"
    state: directory
    mode: '755'

- name: Generate metadata check report
  ansible.builtin.template:
    src: "{{ playbook_dir }}/../roles/application/upgrade/templates/metadata_report.md.j2"
    dest: "{{ upgrade_reports_dir }}/02_metadata-check.md"
    mode: '0644'

- name: Display report location
  ansible.builtin.debug:
    msg: "Metadata check report generated: {{ upgrade_reports_dir }}/02_metadata-check.md"
