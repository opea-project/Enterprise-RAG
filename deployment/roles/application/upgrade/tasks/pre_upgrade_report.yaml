# Copyright (C) 2025-2026 Intel Corporation
# SPDX-License-Identifier: Apache-2.0
---
# Pre-Upgrade Report Generation
# This task generates a concise pre-upgrade summary report

- name: Ensure upgrade reports directory exists
  ansible.builtin.file:
    path: "{{ upgrade_reports_dir }}"
    state: directory
    mode: '0755'

- name: Generate pre-upgrade summary report
  ansible.builtin.template:
    src: "../templates/pre_upgrade_report.md.j2"
    dest: "{{ upgrade_reports_dir }}/pre-upgrade-report.md"
    mode: '0644'

- name: Display report location
  ansible.builtin.debug:
    msg: "Pre-upgrade report generated: {{ upgrade_reports_dir }}/pre-upgrade-report.md"
